{"ast":null,"code":"import _classCallCheck from\"/usr/share/caddy/creative_lab4/front-end/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/usr/share/caddy/creative_lab4/front-end/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"/usr/share/caddy/creative_lab4/front-end/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"/usr/share/caddy/creative_lab4/front-end/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/usr/share/caddy/creative_lab4/front-end/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import{Link}from'react-router-dom';import logo from'../logo.svg';import'../App.css';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Navbar=/*#__PURE__*/function(_Component){_inherits(Navbar,_Component);var _super=_createSuper(Navbar);function Navbar(){var _this;_classCallCheck(this,Navbar);_this=_super.call(this);_this.logout=_this.logout.bind(_assertThisInitialized(_this));return _this;}_createClass(Navbar,[{key:\"logout\",value:function logout(event){var _this2=this;event.preventDefault();console.log('logging out');axios.post('/user/logout').then(function(response){console.log(response.data);if(response.status===200){_this2.props.updateUser({loggedIn:false,username:null});}}).catch(function(error){console.log('Logout error');});}},{key:\"render\",value:function render(){var loggedIn=this.props.loggedIn;console.log('navbar render, props: ');console.log(this.props);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"header\",{className:\"navbar App-header\",id:\"nav-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-4\",children:loggedIn?/*#__PURE__*/_jsx(\"section\",{className:\"navbar-section\",children:/*#__PURE__*/_jsx(Link,{to:\"#\",className:\"btn btn-link text-secondary\",onClick:this.logout,children:/*#__PURE__*/_jsx(\"span\",{className:\"text-secondary\",children:\"logout\"})})}):/*#__PURE__*/_jsxs(\"section\",{className:\"navbar-section\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"btn btn-link text-secondary\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-secondary\",children:\"home\"})}),/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"btn btn-link text-secondary\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-secondary\",children:\"login\"})}),/*#__PURE__*/_jsx(Link,{to:\"/signup\",className:\"btn btn-link\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-secondary\",children:\"sign up\"})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-4 col-mr-auto\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"top-filler\"}),/*#__PURE__*/_jsx(\"img\",{src:logo,className:\"App-logo\",alt:\"logo\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"App-title\",children:\"MERN Passport\"})]})]})});}}]);return Navbar;}(Component);export default Navbar;","map":{"version":3,"names":["React","Component","Link","logo","axios","Navbar","logout","bind","event","preventDefault","console","log","post","then","response","data","status","props","updateUser","loggedIn","username","catch","error"],"sources":["/usr/share/caddy/creative_lab4/front-end/src/components/navbar.js"],"sourcesContent":["import React, { Component } from 'react'\nimport {Link } from 'react-router-dom'\nimport logo from '../logo.svg';\nimport '../App.css';\nimport axios from 'axios'\n\nclass Navbar extends Component {\n    constructor() {\n        super()\n        this.logout = this.logout.bind(this)\n    }\n\n    logout(event) {\n        event.preventDefault()\n        console.log('logging out')\n        axios.post('/user/logout').then(response => {\n          console.log(response.data)\n          if (response.status === 200) {\n            this.props.updateUser({\n              loggedIn: false,\n              username: null\n            })\n          }\n        }).catch(error => {\n            console.log('Logout error')\n        })\n      }\n\n    render() {\n        const loggedIn = this.props.loggedIn;\n        console.log('navbar render, props: ')\n        console.log(this.props);\n        \n        return (\n            <div>\n                <header className=\"navbar App-header\" id=\"nav-container\">\n                    <div className=\"col-4\" >\n                        {loggedIn ? (\n                            <section className=\"navbar-section\">\n                                <Link to=\"#\" className=\"btn btn-link text-secondary\" onClick={this.logout}>\n                                <span className=\"text-secondary\">logout</span></Link>\n\n                            </section>\n                        ) : (\n                                <section className=\"navbar-section\">\n                                    <Link to=\"/\" className=\"btn btn-link text-secondary\">\n                                        <span className=\"text-secondary\">home</span>\n                                        </Link>\n                                    <Link to=\"/login\" className=\"btn btn-link text-secondary\">\n                                    <span className=\"text-secondary\">login</span>\n\t\t\t\t</Link>\n                                    <Link to=\"/signup\" className=\"btn btn-link\">\n                                    <span className=\"text-secondary\">sign up</span>\n\t\t\t\t</Link>\n                                </section>\n                            )}\n                    </div>\n                    <div className=\"col-4 col-mr-auto\">\n                    <div id=\"top-filler\"></div>\n                        <img src={logo} className=\"App-logo\" alt=\"logo\" />\n                        <h1 className=\"App-title\">MERN Passport</h1>\n                    </div>\n                </header>\n            </div>\n\n        );\n\n    }\n}\n\nexport default Navbar"],"mappings":"snBAAA,MAAOA,MAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,OAAQC,IAAI,KAAQ,kBAAkB,CACtC,MAAOC,KAAI,KAAM,aAAa,CAC9B,MAAO,YAAY,CACnB,MAAOC,MAAK,KAAM,OAAO,4FAEnBC,OAAM,gGACR,iBAAc,wCACV,wBACA,MAAKC,MAAM,CAAG,MAAKA,MAAM,CAACC,IAAI,+BAAM,cACxC,CAAC,yCAED,gBAAOC,KAAK,CAAE,iBACVA,KAAK,CAACC,cAAc,EAAE,CACtBC,OAAO,CAACC,GAAG,CAAC,aAAa,CAAC,CAC1BP,KAAK,CAACQ,IAAI,CAAC,cAAc,CAAC,CAACC,IAAI,CAAC,SAAAC,QAAQ,CAAI,CAC1CJ,OAAO,CAACC,GAAG,CAACG,QAAQ,CAACC,IAAI,CAAC,CAC1B,GAAID,QAAQ,CAACE,MAAM,GAAK,GAAG,CAAE,CAC3B,MAAI,CAACC,KAAK,CAACC,UAAU,CAAC,CACpBC,QAAQ,CAAE,KAAK,CACfC,QAAQ,CAAE,IACZ,CAAC,CAAC,CACJ,CACF,CAAC,CAAC,CAACC,KAAK,CAAC,SAAAC,KAAK,CAAI,CACdZ,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC,CAC/B,CAAC,CAAC,CACJ,CAAC,sBAEH,iBAAS,CACL,GAAMQ,SAAQ,CAAG,IAAI,CAACF,KAAK,CAACE,QAAQ,CACpCT,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAC,CACrCD,OAAO,CAACC,GAAG,CAAC,IAAI,CAACM,KAAK,CAAC,CAEvB,mBACI,kCACI,gBAAQ,SAAS,CAAC,mBAAmB,CAAC,EAAE,CAAC,eAAe,wBACpD,YAAK,SAAS,CAAC,OAAO,UACjBE,QAAQ,cACL,gBAAS,SAAS,CAAC,gBAAgB,uBAC/B,KAAC,IAAI,EAAC,EAAE,CAAC,GAAG,CAAC,SAAS,CAAC,6BAA6B,CAAC,OAAO,CAAE,IAAI,CAACb,MAAO,uBAC1E,aAAM,SAAS,CAAC,gBAAgB,oBAAc,EAAO,EAE/C,cAEN,iBAAS,SAAS,CAAC,gBAAgB,wBAC/B,KAAC,IAAI,EAAC,EAAE,CAAC,GAAG,CAAC,SAAS,CAAC,6BAA6B,uBAChD,aAAM,SAAS,CAAC,gBAAgB,kBAAY,EACrC,cACX,KAAC,IAAI,EAAC,EAAE,CAAC,QAAQ,CAAC,SAAS,CAAC,6BAA6B,uBACzD,aAAM,SAAS,CAAC,gBAAgB,mBAAa,EACtE,cACyB,KAAC,IAAI,EAAC,EAAE,CAAC,SAAS,CAAC,SAAS,CAAC,cAAc,uBAC3C,aAAM,SAAS,CAAC,gBAAgB,qBAAe,EACxE,GAEkB,EACH,cACN,aAAK,SAAS,CAAC,mBAAmB,wBAClC,YAAK,EAAE,CAAC,YAAY,EAAO,cACvB,YAAK,GAAG,CAAEH,IAAK,CAAC,SAAS,CAAC,UAAU,CAAC,GAAG,CAAC,MAAM,EAAG,cAClD,WAAI,SAAS,CAAC,WAAW,2BAAmB,GAC1C,GACD,EACP,CAId,CAAC,oBA7DgBF,SAAS,EAgE9B,cAAeI,OAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}