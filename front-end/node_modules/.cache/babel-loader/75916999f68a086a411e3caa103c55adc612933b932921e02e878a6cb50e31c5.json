{"ast":null,"code":"import _regeneratorRuntime from\"/usr/share/caddy/creative_lab4/front-end/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/usr/share/caddy/creative_lab4/front-end/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/usr/share/caddy/creative_lab4/front-end/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{Component}from'react';import{useState,useEffect}from'react';import axios from'axios';import'../App.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Home(){// setup state\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),recipes=_useState2[0],setRecipes=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),name=_useState6[0],setName=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),author=_useState8[0],setAuthor=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),quantity=_useState10[0],setQuantity=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),ingredient=_useState12[0],setIngredient=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),instruction=_useState14[0],setInstruction=_useState14[1];var fetchRecipes=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"/user/recipes\");case 3:response=_context.sent;setRecipes(response.data.recipes);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);setError(\"error retrieving recipes: \"+_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function fetchRecipes(){return _ref.apply(this,arguments);};}();var createRecipe=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.post(\"/user/recipes\",{name:name,author:author,quantity:quantity,ingredient:ingredient,instruction:instruction});case 3:_context2.next=8;break;case 5:_context2.prev=5;_context2.t0=_context2[\"catch\"](0);setError(\"error adding a recipe: \"+_context2.t0);case 8:case\"end\":return _context2.stop();}}},_callee2,null,[[0,5]]);}));return function createRecipe(){return _ref2.apply(this,arguments);};}();var deleteOneRecipe=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(recipe){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return axios.delete(\"/user/recipes/\"+recipe.id);case 3:_context3.next=8;break;case 5:_context3.prev=5;_context3.t0=_context3[\"catch\"](0);setError(\"error deleting a recipe\"+_context3.t0);case 8:case\"end\":return _context3.stop();}}},_callee3,null,[[0,5]]);}));return function deleteOneRecipe(_x){return _ref3.apply(this,arguments);};}();// fetch ticket data\nuseEffect(function(){fetchRecipes();},[]);var addRecipe=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(e){return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:e.preventDefault();_context4.next=3;return createRecipe();case 3:fetchRecipes();setName(\"\");setAuthor(\"\");setQuantity();setIngredient(\"\");setInstruction(\"\");case 9:case\"end\":return _context4.stop();}}},_callee4);}));return function addRecipe(_x2){return _ref4.apply(this,arguments);};}();var deleteRecipe=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(recipe){return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return deleteOneRecipe(recipe);case 2:fetchRecipes();case 3:case\"end\":return _context5.stop();}}},_callee5);}));return function deleteRecipe(_x3){return _ref5.apply(this,arguments);};}();//const loggedIn = this.props.loggedIn;\n// render results\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[error,/*#__PURE__*/_jsx(\"h1\",{children:\"Create a Recipe\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:addRecipe,className:\"form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"Name\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"name\",className:\"name\",children:\"Reciple Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:name,onChange:function onChange(e){return setName(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"By\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"by\",children:\"By:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:author,onChange:function onChange(e){return setAuthor(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"Quantity\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"quantity\",children:\"Serving size: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:quantity,onChange:function onChange(e){return setQuantity(parseInt(e.target.value));}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"Ingredients\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"ingredient\",children:\"Ingredients:\"}),/*#__PURE__*/_jsx(\"textarea\",{rows:\"5\",cols:\"30\",value:ingredient,onChange:function onChange(e){return setIngredient(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"Instructions\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"instruction\",children:\"Instructions:\"}),/*#__PURE__*/_jsx(\"textarea\",{rows:\"5\",cols:\"30\",value:instruction,onChange:function onChange(e){return setInstruction(e.target.value);}})]}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Submit\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Recipes\"}),recipes.map(function(recipe){return/*#__PURE__*/_jsxs(\"div\",{className:\"recipe\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"instruction\",children:[/*#__PURE__*/_jsx(\"h4\",{children:recipe.name}),/*#__PURE__*/_jsxs(\"p\",{children:[\" By: \",recipe.author]}),/*#__PURE__*/_jsxs(\"div\",{class:\"lol\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\" Ingredients \"}),/*#__PURE__*/_jsxs(\"p\",{children:[\" for \",recipe.quantity,\" servings \"]}),/*#__PURE__*/_jsx(\"p\",{className:\"description\",children:recipe.ingredient}),/*#__PURE__*/_jsx(\"h5\",{children:\" Instructions \"}),/*#__PURE__*/_jsx(\"p\",{className:\"description\",children:recipe.instruction})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){return deleteRecipe(recipe);},children:\"Delete\"})]},recipe.id);})]})]})]});}export default Home;","map":{"version":3,"names":["React","Component","useState","useEffect","axios","Home","recipes","setRecipes","error","setError","name","setName","author","setAuthor","quantity","setQuantity","ingredient","setIngredient","instruction","setInstruction","fetchRecipes","get","response","data","createRecipe","post","deleteOneRecipe","recipe","delete","id","addRecipe","e","preventDefault","deleteRecipe","target","value","parseInt","map"],"sources":["/usr/share/caddy/creative_lab4/front-end/src/components/home.js"],"sourcesContent":["import React, { Component } from 'react'\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport '../App.css';\n\nfunction Home() {\n\n     // setup state\n  const [recipes, setRecipes] = useState([]);\n  const [error, setError] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const [author, setAuthor] = useState(\"\");\n  const [quantity, setQuantity] = useState();\n  const [ingredient, setIngredient] = useState(\"\");\n  const [instruction, setInstruction] = useState(\"\");\n\n  const fetchRecipes = async() => {\n    try {      \n      const response = await axios.get(\"/user/recipes\");\n      setRecipes(response.data.recipes);\n    } catch(error) {\n      setError(\"error retrieving recipes: \" + error);\n    }\n  }\n  const createRecipe = async() => {\n    try {\n      await axios.post(\"/user/recipes\", {name: name, author: author, quantity: quantity, ingredient: ingredient, instruction: instruction});\n    } catch(error) {\n      setError(\"error adding a recipe: \" + error);\n    }\n  }\n  const deleteOneRecipe = async(recipe) => {\n    try {\n      await axios.delete(\"/user/recipes/\" + recipe.id);\n    } catch(error) {\n      setError(\"error deleting a recipe\" + error);\n    }\n  }\n\n  // fetch ticket data\n  useEffect(() => {\n    fetchRecipes();\n  },[]);\n\n  const addRecipe = async(e) => {\n    e.preventDefault();\n    await createRecipe();\n    fetchRecipes();\n    setName(\"\");\n    setAuthor(\"\");\n    setQuantity();\n    setIngredient(\"\");\n    setInstruction(\"\");\n  }\n\n  const deleteRecipe = async(recipe) => {\n    await deleteOneRecipe(recipe);\n    fetchRecipes();\n  }\n\n  //const loggedIn = this.props.loggedIn;\n  // render results\n  return (\n    <div className=\"App\">\n      {error}\n            <h1>Create a Recipe</h1>\n      <div>\n            <form onSubmit={addRecipe} className=\"form\">\n              <div className=\"Name\">\n                <label for=\"name\" className=\"name\">Reciple Name:</label>\n                <input type=\"text\" value={name} onChange={e => setName(e.target.value)} />\n              </div>\n              <div className=\"By\">\n                <label className=\"by\">By:</label>\n                <input type=\"text\" value={author} onChange={e => setAuthor(e.target.value)} />\n              </div>\n              <div className =\"Quantity\">\n                <label className=\"quantity\">Serving size: </label>\n                <input type=\"number\" value={quantity} onChange={e => setQuantity(parseInt(e.target.value))} />\n              </div>\n              <div className=\"Ingredients\">\n                <label className=\"ingredient\">Ingredients:</label>\n                <textarea  rows='5' cols='30' value={ingredient} onChange={e => setIngredient(e.target.value)}></textarea>\n              </div>\n              <div className=\"Instructions\">\n                <label className=\"instruction\">Instructions:</label>\n                <textarea rows=\"5\" cols='30' value={instruction} onChange={e => setInstruction(e.target.value)}></textarea>\n              </div>\n              <input type=\"submit\" value=\"Submit\" />\n            </form>\n      <div>\n            \n            \n            \n            <h1>Recipes</h1>\n            {recipes.map( recipe => (\n              <div key={recipe.id} className=\"recipe\">\n                <div className=\"instruction\">\n                  <h4>{recipe.name}</h4>\n                  <p> By: {recipe.author}</p>\n                  <div class=\"lol\">\n                  <h5> Ingredients </h5>\n                  <p> for {recipe.quantity} servings </p>\n                  <p className = \"description\" >{recipe.ingredient}</p>\n                  \n                  <h5> Instructions </h5>\n                  <p className = \"description\" >{recipe.instruction}</p>\n                  </div>\n                </div>\n                <button onClick={e => deleteRecipe(recipe)}>Delete</button>\n              </div>\n            ))}\n            </div>\n          </div>\n        </div>\n  );\n}\n\nexport default Home\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}