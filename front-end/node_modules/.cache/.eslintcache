[{"/usr/share/caddy/creative_lab4/front-end/src/index.js":"1","/usr/share/caddy/creative_lab4/front-end/src/App.js":"2","/usr/share/caddy/creative_lab4/front-end/src/components/sign-up.js":"3","/usr/share/caddy/creative_lab4/front-end/src/components/home.js":"4","/usr/share/caddy/creative_lab4/front-end/src/components/navbar.js":"5","/usr/share/caddy/creative_lab4/front-end/src/components/login-form.js":"6"},{"size":472,"mtime":1670014223929,"results":"7","hashOfConfig":"8"},{"size":2163,"mtime":1670214518686,"results":"9","hashOfConfig":"8"},{"size":2312,"mtime":1670363277831,"results":"10","hashOfConfig":"8"},{"size":4828,"mtime":1670362697370,"results":"11","hashOfConfig":"8"},{"size":2426,"mtime":1670046408118,"results":"12","hashOfConfig":"8"},{"size":3874,"mtime":1670014223929,"results":"13","hashOfConfig":"8"},{"filePath":"14","messages":"15","suppressedMessages":"16","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"b2rwyu",{"filePath":"17","messages":"18","suppressedMessages":"19","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"21","messages":"22","suppressedMessages":"23","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"24","messages":"25","suppressedMessages":"26","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"27"},{"filePath":"28","messages":"29","suppressedMessages":"30","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"31"},{"filePath":"32","messages":"33","suppressedMessages":"34","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/usr/share/caddy/creative_lab4/front-end/src/index.js",[],[],"/usr/share/caddy/creative_lab4/front-end/src/App.js",[],[],[],"/usr/share/caddy/creative_lab4/front-end/src/components/sign-up.js",[],[],"/usr/share/caddy/creative_lab4/front-end/src/components/home.js",["35"],[],"import React, { Component } from 'react'\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport '../App.css';\n\nfunction Home() {\n\n     // setup state\n  const [recipes, setRecipes] = useState([]);\n  const [error, setError] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const [author, setAuthor] = useState(\"\");\n  const [quantity, setQuantity] = useState();\n  const [ingredient, setIngredient] = useState(\"\");\n  const [instruction, setInstruction] = useState(\"\");\n\n  const fetchRecipes = async() => {\n    try {      \n      const response = await axios.get(\"/user/recipes\");\n      setRecipes(response.data.recipes);\n    } catch(error) {\n      setError(\"error retrieving recipes: \" + error);\n    }\n  }\n  const createRecipe = async() => {\n    try {\n      await axios.post(\"/user/recipes\", {name: name, author: author, quantity: quantity, ingredient: ingredient, instruction: instruction});\n    } catch(error) {\n      setError(\"error adding a recipe: \" + error);\n    }\n  }\n  const deleteOneRecipe = async(recipe) => {\n    try {\n      await axios.delete(\"/user/recipes/\" + recipe.id);\n    } catch(error) {\n      setError(\"error deleting a recipe\" + error);\n    }\n  }\n\n  // fetch ticket data\n  useEffect(() => {\n    fetchRecipes();\n  },[]);\n\n  const addRecipe = async(e) => {\n    e.preventDefault();\n    await createRecipe();\n    fetchRecipes();\n    setName(\"\");\n    setAuthor(\"\");\n    setQuantity();\n    setIngredient(\"\");\n    setInstruction(\"\");\n  }\n\n  const deleteRecipe = async(recipe) => {\n    await deleteOneRecipe(recipe);\n    fetchRecipes();\n  }\n  \n  const decrease = async(item) => {\n    try {\n      let temp = parseInt(item.quantity - 1);\n      await axios.put(\"/user/recipes/\" + item.id, {temp});\n    } catch(error) {\n      setError(\"error decreasing quantity\" + error);\n    }\n  }\n  \n  const increase = async(item) => {\n    try {\n      let temp = parseInt(item.quantity + 1);\n      await axios.put(\"/user/recipes/\" + item.id, {temp});\n    } catch(error) {\n      setError(\"error increasing quantity\" + error);\n    }\n  }\n  \n  const decreaseQuantity = async(item) => {\n    await decrease(item);\n    fetchRecipes();\n    setQuantity(item.quantity);\n  }\n  \n  const increaseQuantity = async(item) => {\n    await increase(item);\n    fetchRecipes();\n    setQuantity(item.quantity);\n  }\n\n  //const loggedIn = this.props.loggedIn;\n  // render results\n  return (\n    <div className=\"App\">\n      {error}\n            <h1>Create a Recipe</h1>\n      <div>\n            <form onSubmit={addRecipe} className=\"form\">\n              <div className=\"Name\">\n                <label for=\"name\" className=\"name\">Reciple Name:</label>\n                <input type=\"text\" value={name} onChange={e => setName(e.target.value)} />\n              </div>\n              <div className=\"By\">\n                <label className=\"by\">By:</label>\n                <input type=\"text\" value={author} onChange={e => setAuthor(e.target.value)} />\n              </div>\n              <div className =\"Quantity\">\n                <label className=\"quantity\">Serving size: </label>\n                <input type=\"number\" value={quantity} onChange={e => setQuantity(parseInt(e.target.value))} />\n              </div>\n              <div className=\"Ingredients\">\n                <label className=\"ingredient\">Ingredients:</label>\n                <textarea  rows='5' cols='30' value={ingredient} onChange={e => setIngredient(e.target.value)}></textarea>\n              </div>\n              <div className=\"Instructions\">\n                <label className=\"instruction\">Instructions:</label>\n                <textarea rows=\"5\" cols='30' value={instruction} onChange={e => setInstruction(e.target.value)}></textarea>\n              </div>\n              <input type=\"submit\" value=\"Submit\" />\n            </form>\n      <div>\n            \n            \n            \n            <h1>Recipes</h1>\n            {recipes.map( recipe => (\n              <div key={recipe.id} className=\"recipe\">\n                <div className=\"instruction\">\n                  <h4>{recipe.name}</h4>\n                  <p> By: {recipe.author}</p>\n                  <div class=\"lol\">\n                  <h5> Ingredients </h5>\n                  <p> for {recipe.quantity} servings </p>\n                  <button onClick={e => decreaseQuantity(recipe)}>-</button>\n                  <button onClick={e => increaseQuantity(recipe)}>+</button>\n                  <p className = \"description\" >{recipe.ingredient}</p>\n                  \n                  <h5> Instructions </h5>\n                  <p className = \"description\" >{recipe.instruction}</p>\n                  </div>\n                </div>\n                <button onClick={e => deleteRecipe(recipe)}>Delete</button>\n              </div>\n            ))}\n            </div>\n          </div>\n        </div>\n  );\n}\n\nexport default Home\n","/usr/share/caddy/creative_lab4/front-end/src/components/navbar.js",["36"],[],"import React, { Component } from 'react'\nimport {Link } from 'react-router-dom'\nimport logo from '../logo.svg';\nimport '../App.css';\nimport axios from 'axios'\n\nclass Navbar extends Component {\n    constructor() {\n        super()\n        this.logout = this.logout.bind(this)\n    }\n\n    logout(event) {\n        event.preventDefault()\n        console.log('logging out')\n        axios.post('/user/logout').then(response => {\n          console.log(response.data)\n          if (response.status === 200) {\n            this.props.updateUser({\n              loggedIn: false,\n              username: null\n            })\n          }\n        }).catch(error => {\n            console.log('Logout error')\n        })\n      }\n\n    render() {\n        const loggedIn = this.props.loggedIn;\n        console.log('navbar render, props: ')\n        console.log(this.props);\n        \n        return (\n            <div>\n\n                <header className=\"navbar App-header\" id=\"nav-container\">\n                    <div className=\"col-4\" >\n                        {loggedIn ? (\n                            <section className=\"navbar-section\">\n                                <Link to=\"#\" className=\"btn btn-link text-secondary\" onClick={this.logout}>\n                                <span className=\"text-secondary\">logout</span></Link>\n\n                            </section>\n                        ) : (\n                                <section className=\"navbar-section\">\n                                    <Link to=\"/\" className=\"btn btn-link text-secondary\">\n                                        <span className=\"text-secondary\">home</span>\n                                        </Link>\n                                    <Link to=\"/login\" className=\"btn btn-link text-secondary\">\n                                    <span className=\"text-secondary\">login</span>\n\t\t\t\t</Link>\n                                    <Link to=\"/signup\" className=\"btn btn-link\">\n                                    <span className=\"text-secondary\">sign up</span>\n\t\t\t\t</Link>\n                                </section>\n                            )}\n                    </div>\n                    <div className=\"col-4 col-mr-auto\">\n                    <div id=\"top-filler\"></div>\n                        <h1 className=\"App-title\">RECIPE BLOG</h1>\n                    </div>\n                </header>\n            </div>\n\n        );\n\n    }\n}\n\nexport default Navbar","/usr/share/caddy/creative_lab4/front-end/src/components/login-form.js",[],[],{"ruleId":"37","severity":1,"message":"38","line":1,"column":17,"nodeType":"39","messageId":"40","endLine":1,"endColumn":26},{"ruleId":"37","severity":1,"message":"41","line":3,"column":8,"nodeType":"39","messageId":"40","endLine":3,"endColumn":12},"no-unused-vars","'Component' is defined but never used.","Identifier","unusedVar","'logo' is defined but never used."]